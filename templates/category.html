<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<!-- Popper JS -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

	<!--<script src="helper.js"></script>-->
	<script src="{{ url_for('static', filename='cart.js') }}" async></script>

	<!-- personal style sheet -->
	<link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/styles.css') }}">

	<!-- fontawesome -->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
	
<!--<script src="jquery.js"></script> 
    <script> 
    $(function(){
      $("#includedContent").load("{{ url_for('static', filename='cart.html') }}"); 
    });
    </script> -->

<style>
	table {
 		width: 100%;
		align: left;
	}

	td, th {
  		text-align: left;
		padding: 15px;
		align: left;
	}

	tr:nth-child(even) {
 	 	background-color: #dddddd;
	}

</style>
</head>

<title>CalcuLateMeal</title>

<body>
	<header class="container-fluid fixed-top">
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" style="padding-right: 5vw; padding-left: 5vw;">
			<div class="container-fluid">
				<a class="navbar-brand" href="/"><!--<img src = "title.png" style = "width: 13rem">--></a>
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarResponsive">
					<ul class="navbar-nav ml-auto">
						<li class="nav-item">
							<a class="nav-link" href="/index">Home
								<span class="sr-only">(current)</span>
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/info">About</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/favorites">Favorites</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>

			<form class="searchbutton" style = "position: absolute; width: 100%; left: 0; background-color: #fafafa;" action="action_page.php">
				<div class = "row padding-0" style="padding-top:2rem;">

					<div class = "col-1 "></div>
					<div class = "col-9 padding-0">
						<div class="searchbar">
							<input type="text" id="itemsearch" class="form-control" placeholder="Search...">
						</div>
					</div>

					<div class = "col-1 " style="display: inline-block; padding-top: 2rem; padding-left: 0rem; padding-right:1rem;">
						<button type="submit" onclick="return handleSearchItem();"><i class="fa fa-search"></i></button>
					</div>
				</div>

			</form>


	</header>

	<!-- submission functions -->
	<script>
		function handleSearchItem() {
			var query = document.getElementById('itemsearch').value;
			window.location.href = "/search/item/" + query;
			return false;
		}
	</script>

	
	<section class="page-container" >




	<!-- display results !-->
	{% if resultList %}
		<!--<script>handleResults(resultList);</script>-->
		<h5><table class="shop-items" id="shop-items">{{ resultList }}</table>	</h5>
	{% endif %}

	</section>

<script>
includeHTML();
</script>
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script> 
	$(document).ready(function(){
	  $("#flip").click(function(){
	    $("#panel").slideToggle("slow");
	  });
	});
	</script>
	
<!-- calculator -->
<footer>
<div class="container-fluid fixed-bottom" style = "background-color: #eceff1;border-top: solid #3E4551 .1rem; height:4rem; overflow:auto;padding:0px width:100%; width:100vw">		
	<div class = "collapse" id ="flip">
	<div class = "col-8" style = "padding-right:0; padding-top:.8rem; border-right: solid .1rem; text-align: center;" >
		<h6>YOUR CART</h6>
			<div class="calculator-scroll">
			  <div class = "cart-items">
				{% if resultList2 %}
				   {{ resultList2 }}
				{% endif %}			
			   </div>
			</div>
	</div>
	<div class = "col-2" style = "padding-left:0; text-align: center; padding-top: .8rem; border-right: solid .1rem;">
		<h6>TOTAL</h6>
		<!-- money left -->
		{% if surplus %}
			<font color="green">{{ resultList3 }}
			<br>{{ surplus }} remaining</font>
		{% endif %}
			<!-- money over -->
			{% if diffOver %}
			<font color="red">{{ resultList3 }}
			<br>{{ diffOver }} over</font>
			{% endif %}
	</div>
	<!-- checkout button -->
	<div class = "col-2">
		<br><button class="btn-primary" type="button" onclick="window.location='/checkout';">Checkout</button>
	</div>
	</div>
	<!--<div class="w-100"></div>-->
	<div class="row" id="panel" style="display:none;border-top: solid #3E4551 .1rem">
		<div class="col-12" style="text-align:center">
		<h6>SUGGESTED</h6>
			<div class = "calculator-scroll">
			<div class = "cart-items">
			{% if resultList4 %}
				{{ resultList4 }}
			{% endif %}
			</div>
			</div>
		</div>
	</div>
</div>

</footer>
<!-- shopping cart-->	

</body>
</html>
